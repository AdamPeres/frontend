@()(implicit request: RequestHeader, context: model.ApplicationContext)

<!DOCTYPE html>
<html lang="en-GB">
    <head>
        <title>Guardian Font Loader</title>
        <script>
            !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("fontLoader",[],e):"object"==typeof exports?exports.fontLoader=e():t.fontLoader=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _fontDefinitions=__webpack_require__(1),_fontDefinitions2=_interopRequireDefault(_fontDefinitions);!function(document,window){var ua=navigator.userAgent,head=document.getElementsByTagName("head")[0],fontHinting=function(){var t=/Windows NT (\d\.\d+)/.exec(ua),e="Off";try{if(t){var n=parseFloat(t[1]);n>=5.1&&n<=6.1&&(e=/Chrome/.exec(ua)&&n<6?"Auto":"Cleartype")}}catch(t){}return e}(),loadFontsFromStorage=function loadFontsFromStorage(){try{if("localStorage"in window){var fontStorageKey=function(t){return"gu.fonts."+t+"."+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},fontFormat=function(){var t=localStorage.getItem("gu.fonts.format");return t&&/value/.test(t)&&(t=JSON.parse(t).value,localStorage.setItem("gu.fonts.format",t)),t||(t=function(){if("FontFace"in window)try{var t=new window.FontFace("t",'url("data:application/font-woff2,") format("woff2")',{});if(t.load().catch(function(){}),"loading"===t.status)return!0}catch(t){}if(!/edge\/([0-9]+)/.test(ua.toLowerCase())){var e=/(chrome|firefox)\/([0-9]+)/.exec(ua.toLowerCase()),n={chrome:36,firefox:39};return!!e&&n[e[1]]<parseInt(e[2],10)}return!1}()?"woff2":ua.indexOf("android")>-1?"ttf":"woff",localStorage.setItem("gu.fonts.format",t)),t}(),saveFont=function(t,e,n){for(var o=localStorage.length-1,a=0;a<o;++a){var s=localStorage.key(a);if(s&&-1!==s.indexOf(fontStorageKey(t))){localStorage.removeItem(s);break}}localStorage.setItem(fontStorageKey(t,e),JSON.stringify({value:n}))},fetchFont=function fetchFont(url,fontName,fontHash,storageKey){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;window.guFont=function(t){return t.css},xhr.open("GET",url,!0),xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){var css=eval(xhr.responseText);saveFont(fontName,fontHash,css),resolve({storageKey:storageKey,css:css})}},xhr.send()})},fontsToLoad=_fontDefinitions2.default.map(function(t){var e=t.fileTypes.find(function(t){return t.fileType===fontFormat}),n="Off"===fontHinting?e.endpoint:e.hintTypes.find(function(t){return t===fontHinting});if(n){var o=n.match(/fonts\/([^\/]*?)\/?([^\/]*)\.(woff2|woff|ttf).json$/);if(o&&o.length>=3){var a=o[2],s=o[1],i=fontStorageKey(a,s),f=localStorage.getItem(i);if(f){var r=JSON.parse(f).value;return Promise.resolve({storageKey:i,css:r})}return fetchFont(n,a,s)}}}).filter(function(t){return!!t});return Promise.all(fontsToLoad).then(function(t){parent.postMessage({name:"guardianFonts",fonts:t},"*")}),!0}}catch(t){}return!1},fontSmoothingEnabled=function(){try{if(-1!==document.cookie.indexOf("GU_fonts_smoothing")&&"#check-smoothing"!==window.location.hash)return-1!==document.cookie.indexOf("GU_fonts_smoothing=on");var t=function(t){document.cookie="GU_fonts_smoothing= '"+(t?"on":"off")+"; domain="+location.hostname+"; path=/; max-age=2592000"};if(/Windows NT (\d\.\d+)/.exec(ua)&&!/MSIE|Trident/.exec(ua)){try{var e=document.createElement("canvas");e.width=35,e.height=35,e.style.display="none",document.documentElement&&document.documentElement.appendChild(e);var n=e.getContext("2d");n.textBaseline="top",n.font="32px Arial",n.fillStyle="black",n.strokeStyle="black",n.fillText("@@",0,0);for(var o=0;o<=16;++o)for(var a=0;a<=16;++a){var s=n.getImageData(o,a,1,1).data[3];if(s>0&&s<255)return t(!0),!0}}catch(t){}return t(!1),!1}return!0}catch(t){}},fontCookie="GU_fonts=off; domain="+location.hostname+"; path=/",disableFonts=function(){document.cookie=fontCookie+"; max-age=31536000"},enableFonts=function(){document.cookie=fontCookie+"; expires=Thu, 01 Jan 1970 00:00:00 GMT"},checkUserFontDisabling=function(){"#fonts-off"===window.location.hash?disableFonts():"#fonts-on"!==window.location.hash&&"#check-smoothing"!==window.location.hash||enableFonts()},fontsEnabled=-1===document.cookie.indexOf("GU_fonts=off"),loadFonts=function(){checkUserFontDisabling(),fontsEnabled&&(fontSmoothingEnabled()?loadFontsFromStorage():disableFonts())};loadFonts()}(document,window)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[{typeFace:"GuardianEgyptianWeb",fileTypes:[{fileType:"woff2",endpoint:"https://assets.guim.co.uk/fonts/a24c7bea5a91ee87d0868f0d587c6129/GuardianEgyptianWeb.woff2.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/fb32696c02620a1b503e233c1359e2f8/GuardianEgyptianWebCleartypeHinted.woff2.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/1513269d7c379805b57784bb334a331f/GuardianEgyptianWebAutoHinted.woff2.json"}]},{fileType:"woff",endpoint:"https://assets.guim.co.uk/fonts/a551aab8b1ccfcfd32edd37a27fc1823/GuardianEgyptianWeb.woff.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/f4ec7dfc5cc01960abe6bc0a42714ec9/GuardianEgyptianWebCleartypeHinted.woff.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/c9dd78499c869cc0c77c91e6a4d8d0e5/GuardianEgyptianWebAutoHinted.woff.json"}]},{fileType:"ttf",endpoint:"https://assets.guim.co.uk/fonts/a0e077ccafc42d20b07a3f234a06b576/GuardianEgyptianWeb.ttf.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/2738675136670257aaa1a48b6921c04f/GuardianEgyptianWebCleartypeHinted.ttf.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/1204ca5411e8d3fb8c0f9cb90400957c/GuardianEgyptianWebAutoHinted.ttf.json"}]}]},{typeFace:"GuardianTextEgyptianWeb",fileTypes:[{fileType:"woff2",endpoint:"https://assets.guim.co.uk/fonts/97fe10912fa4379b2566da45aa949ad0/GuardianTextEgyptianWeb.woff2.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/b58082bdb36433347e22031ab01e335f/GuardianTextEgyptianWebCleartypeHinted.woff2.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/009f55005e0c252697ac298193f7eeb1/GuardianTextEgyptianWebAutoHinted.woff2.json"}]},{fileType:"woff",endpoint:"https://assets.guim.co.uk/fonts/fbe0437c39cd0f89db6acf24e36c1437/GuardianTextEgyptianWeb.woff.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/6e81caf787303d24efd7b0930b837b4d/GuardianTextEgyptianWebCleartypeHinted.woff.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/186a723d9113413d244e6fbcec9a32f2/GuardianTextEgyptianWebAutoHinted.woff.json"}]},{fileType:"ttf",endpoint:"https://assets.guim.co.uk/fonts/6a8730a9c57227effd13174fa12c9669/GuardianTextEgyptianWeb.ttf.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/c4054e9bdace03f04c410ab6c3c4d251/GuardianTextEgyptianWebCleartypeHinted.ttf.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/7ebc6aee620382ba44f94d663aac46be/GuardianTextEgyptianWebAutoHinted.ttf.json"}]}]},{typeFace:"GuardianSansWeb",fileTypes:[{fileType:"woff2",endpoint:"https://assets.guim.co.uk/fonts/0a5b897d26a290d80ef71316a49a31e2/GuardianSansWeb.woff2.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/f2463ec9413fa90b3349736bbaf506e5/GuardianSansWebCleartypeHinted.woff2.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/c6160564c25bc9b1ef85ede4a1f32a0e/GuardianSansWebAutoHinted.woff2.json"}]},{fileType:"woff",endpoint:"https://assets.guim.co.uk/fonts/34121e4858440b40aa458d7b001e50fd/GuardianSansWeb.woff.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/7723b48f7c73c9c4d5301f6da8156e68/GuardianSansWebCleartypeHinted.woff.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/ea66376e7711e4cf3ac9152cfa9be1c5/GuardianSansWebAutoHinted.woff.json"}]},{fileType:"ttf",endpoint:"https://assets.guim.co.uk/fonts/6d102ed1b30b27f97de6e29d30bd3198/GuardianSansWeb.ttf.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/24c60fb8c15f931e53eb4445e5545f76/GuardianSansWebCleartypeHinted.ttf.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/24c8d16b6f339c0394ba6caab6d4ed58/GuardianSansWebAutoHinted.ttf.json"}]}]},{typeFace:"GuardianTextSansWeb",fileTypes:[{fileType:"woff2",endpoint:"https://assets.guim.co.uk/fonts/e98740f460023b3b3b3137589c40db35/GuardianTextSansWeb.woff2.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/31443178085917965e0fd5b89ecff788/GuardianTextSansWebCleartypeHinted.woff2.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/1e08730fbd3200a61dfa77d9e6d645b6/GuardianTextSansWebAutoHinted.woff2.json"}]},{fileType:"woff",endpoint:"https://assets.guim.co.uk/fonts/68a6b1dc3e7af0aa14a2a0ba3839eea3/GuardianTextSansWeb.woff.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/997e56e52c9d9f28ab60a9786694af4b/GuardianTextSansWebCleartypeHinted.woff.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/73e92258e322d31f85cea2ffbf02cbb0/GuardianTextSansWebAutoHinted.woff.json"}]},{fileType:"ttf",endpoint:"https://assets.guim.co.uk/fonts/71a960886bc7e0d7d7c9b3483b347ab0/GuardianTextSansWeb.ttf.json",hintTypes:[{hintType:"cleartype",endpoint:"https://assets.guim.co.uk/fonts/1ec1f70d7bd618abc7ad43fd7e22d7f2/GuardianTextSansWebCleartypeHinted.ttf.json"},{hintType:"auto",endpoint:"https://assets.guim.co.uk/fonts/3a59896fe9b9cee9b2f5d3b7a086d481/GuardianTextSansWebAutoHinted.ttf.json"}]}]}];e.default=o}])});
        </script>
    </head>
    <body>
    </body>
</html>
