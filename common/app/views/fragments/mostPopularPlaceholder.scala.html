@(section: String)(implicit request: RequestHeader)

@import conf.switches.Switches
@import common.LinkTo
@import fragments.commercial.adSlot

@import common.commercial.AdSlot.mostPopularSizes

@defining(Some(section).filter{ section => section.nonEmpty && !section.equals("global")}.map{ section => s"/most-read/$section" }.getOrElse("/most-read")){ url =>
    <section
    class="fc-container fc-container--has-toggle js-most-popular-footer"
    data-link-name="most-popular"
    data-component="most-popular">
        <div class="fc-container__inner">
            <div class="fc-container__header js-container__header">
                <h2 class="fc-container__header__title">
                    <a href="@LinkTo(url)" data-link-name="Most viewed @section">Most viewed</a>
                </h2>
            </div>
            <div class="fc-container__body fc-container--rolled-up-hide popular-trails">
                <div class="popular-trails__content js-popular-trails">
                </div>
                @defining(Switches.ExtendedMostPopular.isSwitchedOn){ isExtended =>
                <div class="popular-trails__mpu">
                    <div class="fc-slice__popular-mpu fc-slice__item--mpu-candidate">
                        @adSlot(
                        "mostpop",
                        Seq("container-inline"),
                        mostPopularSizes(isExtended),
                        optId = None,
                        optClassNames = None
                        ){ }
                    </div>
                </div>
                }
            </div>

        </div>
    </section>
}
